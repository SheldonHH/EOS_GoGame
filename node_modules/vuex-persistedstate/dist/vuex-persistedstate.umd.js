!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.createPersistedState=r()}(this,function(){"use strict";function t(t){return!!t&&"object"==typeof t}function r(t){var r=Object.prototype.toString.call(t);return"[object RegExp]"===r||"[object Date]"===r||e(t)}function e(t){return t.$$typeof===s}function n(t){return Array.isArray(t)?[]:{}}function u(t,r){return r&&!1===r.clone||!f(t)?t:c(n(t),t,r)}function o(t,r,e){return t.concat(r).map(function(t){return u(t,e)})}function i(t,r,e){var n={};return f(t)&&Object.keys(t).forEach(function(r){n[r]=u(t[r],e)}),Object.keys(r).forEach(function(o){f(r[o])&&t[o]?n[o]=c(t[o],r[o],e):n[o]=u(r[o],e)}),n}function c(t,r,e){var n=Array.isArray(r),c=Array.isArray(t),f=e||{arrayMerge:o};if(n===c)return n?(f.arrayMerge||o)(t,r,e):i(t,r,e);return u(r,e)}var f=function(e){return t(e)&&!r(e)},a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103;c.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,e){return c(t,e,r)},{})};var y=c,l=function(t,r,e){return void 0===(t=(r.split?r.split("."):r).reduce(function(t,r){return t&&t[r]},t))?e:t},d=function(t,r,e,n){return(r=r.split?r.split("."):r).slice(0,-1).reduce(function(t,r){return t[r]=t[r]||{}},t)[r.pop()]=e,t},p={get:l,set:d};return function(t,r,e){function n(t,r,e){try{return(e=r.getItem(t))&&"undefined"!==e?JSON.parse(e):void 0}catch(t){}}function u(){return!0}function o(t,r,e){return e.setItem(t,JSON.stringify(r))}function i(t,r){return 0===r.length?t:r.reduce(function(r,e){return p.set(r,e,p.get(t,e))},{})}function c(t){return function(r){return t.subscribe(r)}}if(t=t||{},r=t.storage||window&&window.localStorage,e=t.key||"vuex",!function(t){try{return t.setItem("@@",1),t.removeItem("@@"),!0}catch(t){}return!1}(r))throw new Error("Invalid storage instance given");return function(f){var a=p.get(t,"getState",n)(e,r);"object"==typeof a&&null!==a&&f.replaceState(y(f.state,a,{arrayMerge:function(t,r){return r},clone:!1})),(t.subscriber||c)(f)(function(n,c){(t.filter||u)(n)&&(t.setState||o)(e,(t.reducer||i)(c,t.paths||[]),r)})}}});
//# sourceMappingURL=vuex-persistedstate.umd.js.map