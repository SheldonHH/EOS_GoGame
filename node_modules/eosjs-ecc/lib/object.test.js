'use strict';

/* eslint-env mocha */
assert = require('assert');

ecc = require('.');

var _ecc = ecc,
    PublicKey = _ecc.PublicKey,
    PrivateKey = _ecc.PrivateKey;


describe('Object API', function () {
  it('PrivateKey constructor', function () {
    privateKey = PrivateKey.randomKey({ cpuEntropyBits: 0 });
    assert(privateKey.toWif() === PrivateKey(privateKey.toWif()).toWif());
    assert(privateKey.toWif() === PrivateKey(privateKey.toBuffer()).toWif());
    assert(privateKey.toWif() === PrivateKey(privateKey).toWif());
    assert.throws(function () {
      return PrivateKey();
    }, /Invalid private key/);
  });

  it('PublicKey constructor', function () {
    publicKey = PrivateKey.randomKey({ cpuEntropyBits: 0 }).toPublic();
    assert(publicKey.toString() === PublicKey(publicKey.toString()).toString());
    assert(publicKey.toString() === PublicKey(publicKey.toBuffer()).toString());
    assert(publicKey.toString() === PublicKey(publicKey).toString());
    assert.throws(function () {
      return PublicKey();
    }, /Invalid public key/);
  });
});